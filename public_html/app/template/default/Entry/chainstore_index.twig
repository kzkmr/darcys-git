{#
This file is part of EC-CUBE

Copyright(c) EC-CUBE CO.,LTD. All Rights Reserved.

http://www.ec-cube.co.jp/

For the full copyright and license information, please view the LICENSE
file that was distributed with this source code.
#}
{% extends 'default_frame.twig' %}

{% set body_class = 'registration_page' %}

{% form_theme form 'Form/form_div_layout.twig' %}

{% block stylesheet %}
	<style>
        .dzx-header{
            font-size: 18px;
            font-weight: bold;
            background: #eee;
            padding: 5px 10px;
        }
        .dzx-table_row_detail {
            min-width: auto;
            width:100%;
        }
        .dzx-table_row_detail th{
            border: 1px solid #d0d0d0;
            background: #48382b;
            color: #fff;
            text-align:center;
            padding:5px;
            font-weight: normal;
        }
        .dzx-table_row_detail td{
            border: 1px solid #d0d0d0;
            padding:5px;
        }
        .bank_branch_list tbody {
            display:block;
            height:195px;
            overflow-y:scroll;
        }

        .bank_branch_list thead, tbody tr {
            display:table;
            width:100%;
            table-layout:fixed;
        }

        .bank_branch_list thead {
            width: calc( 100% - 1em )
        }
        .bank_branch_select {
            padding: 5px;
            font-size: 12px;
        }
        .ec-select select {
            width:100%;
        }
        .ec-select .ec-errorMessage {
            margin-bottom: 25px;
            font-size: 12px;
            font-weight: bold;
            color: #DE5D50;
        }
        .ec-blockBtn--search {
            line-height: 24px;
            height: auto;
            padding: 10px;
        }
        .show-loading {
            position: absolute;
            display: flex;
            z-index: 9999;
            background: #ebebebab;
            top: 0;
            right: 0;
            left: 0;
            bottom: 0;
            justify-content:center;
            align-items:center;
        }
        .lds-facebook {
            display: inline-block;
            position: relative;
            width: 80px;
            height: 80px;
        }
        .lds-facebook div {
            display: inline-block;
            position: absolute;
            left: 8px;
            width: 16px;
            background: #b5b5b5;
            animation: lds-facebook 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;
        }
        .lds-facebook div:nth-child(1) {
            left: 8px;
            animation-delay: -0.24s;
        }
        .lds-facebook div:nth-child(2) {
            left: 32px;
            animation-delay: -0.12s;
        }
        .lds-facebook div:nth-child(3) {
            left: 56px;
            animation-delay: 0;
        }
        .ec-debug {
            display: block;
            font-size: 12px;
            border: 1px solid #efa8a8;
            padding: 10px;
            background: #edc4c4;
        }
        .ec-borderedDefs {
            margin-top: 0rem;
            margin-bottom: 5rem;
        }
        .ec-borderedDefs dd.ismemo {
            line-height: 1;
        }
        .form_memo {
            font-size: 12px;
            color: #555;
        }
        @keyframes lds-facebook {
            0% {
                top: 8px;
                height: 44px;
            }
            50%, 100% {
                top: 24px;
                height: 22px;
            }
        }

    </style>
{% endblock stylesheet %}

{% block javascript %}
    <script src="//yubinbango.github.io/yubinbango/yubinbango.js" charset="UTF-8"></script>

    <script>
        $(function() {
            var branchList = null;
            var showLoading = function(show){
                $(".show-loading").remove();
                if(show){
                    $(".bloading").append('<div class="show-loading"><div class="lds-facebook"><div></div><div></div><div></div></div></div>');
                }
            };

            $("#entry_chain_store_bank").on("change", function(){
                var t = $(this);
                var bankid = t.val() || '0';
                branchList=null;

                $.ajax({
                    type: "POST",
                    url: "/bank/list/" + bankid,
                    data: JSON.stringify({"id": bankid}),
                    dataType : "json",
                }).done(function(data){
                    var isSelected = false;
                    if(data.status!="OK") return;

                    var opt = $("#bank_branch_code");
                    var txt = $("#entry_chain_store_bank_branch");
                    opt.find("option").remove().end();
                    opt.append('<option value="">支店を選択</option>');

                    $.each(data.data, function(i, dt){
                        var item = $("<option></option>");
                        item.prop("value", dt.id);
                        item.text(dt.name);
                        if( txt.val() == dt.id ){
                            isSelected = true;
                            item.prop("selected", true);
                            $("#entry_chain_store_bank_branch").val( dt.id );
                            $("#bank_branch_id").val(dt.branchCode);
                        }
                        item.data("branchCode", dt.branchCode);
                        opt.append(item);
                    });

                    branchList = data.data;

                    if(!isSelected){
                        $("#entry_chain_store_bank_branch").val("");
                        $("#bank_branch_id").val("");
                    }
                    return true;
                });
            });

            $("#bank_branch_code").on("change", function(){
                var opt = $(this).find(":selected");
                $("#entry_chain_store_bank_branch").val( $(this).val() );
                $("#bank_branch_id").val(opt.data("branchCode"));
            });
            $("#bank_branch_id").on("keyup", function(){
                var isSelected = false;
                var opt = $("#bank_branch_code").find("option");
                $("#bank_branch_code").find("option").prop("selected", false);
                $("#entry_chain_store_bank_branch").val("");

                $.each(opt, function(){
                    var o = $(this);
                    if(o.data("branchCode") == $("#bank_branch_id").val()){
                        o.prop("selected", true);
                        isSelected = true;
                        $("#entry_chain_store_bank_branch").val(o.val());
                    }
                });

                if(!isSelected){
                    if($("#bank_branch_id").val().length >= 3){
                        $('#bankNotFoundError').modal("show");
                    }
                }
            });
            $("#entry_chain_store_bank").trigger("change");

           $(".btn_bank_search").on("click", function(){
                if(branchList == null || branchList.length <= 0){
                    $('#bankNoSelectError').modal('show');
                }else{
                    $('#bankSearchModal').modal('show');
                    $(".bank_branch_list").hide();
                }
                return false;
            });

            $(".btn_bank_query").on("click", function(){
                var table = $(".bank_branch_list");
                var tbody = $("<tbody></tbody>");

                table.find("tbody").remove().end();

                $.each(branchList, function(i, dt){
                    if(  dt.name.indexOf($("#branch_keyword").val()) >= 0 || dt.branchCode.indexOf($("#branch_keyword").val()) >= 0 ){
                        var tr = $("<tr></tr>");
                        var btn = $('<a class="ec-inlineBtn bank_branch_select" href="#">選択する</a>');
                        var branchSel = $('<td style="width:70px;"></td>');
                        var branchCode = $('<td style="width:120px;"></td>');
                        var branchName = $("<td></td>");

                        btn.data("value", dt.branchCode);
                        branchCode.text(dt.branchCode);
                        branchName.text(dt.name);

                        branchSel.append(btn);
                        tr.append(branchSel);
                        tr.append(branchCode);
                        tr.append(branchName);

                        btn.on("click", function(){
                            var $this = $(this);
                            $('#bank_branch_id').val(btn.data("value"));
                            $('#bank_branch_id').trigger("keyup");
                            $('#bankSearchModal').modal("hide");
                            return false;
                        });

                        tbody.append(tr);
                    }
                });

                if(tbody.find("tr").length==0){
                    var tr = $('<tr><td colspan=3>支店が見つかりません</td></tr>');
                    tbody.append(tr);
                }

                table.append(tbody);

                $(".bank_branch_list").show();
                return false;
            });

            $(".ec-modal-close, .ec-inlineBtn--cancel").on("click", function(){
                $(this).parents(".ec-modal").modal('hide');
            });

            var today = new Date();
            var year = today.getFullYear();
            var month = today.getMonth()+1;
            var day = today.getDate();

            {% if not ChainStoreTypeErr %}
                $("#entry_chain_store_contract_type").val("{{ChainstoreType.id}}");
            {% endif %}

            $("#entry_chain_store_contract_begin_ymd_year").val(year);

            $("#btnsubmit").on("click", function(){
                var isValid = true;

                if( $("#entry_chain_store_pre_chainstore").val() == ""){
                    $(".showerror").html("最初に契約登録データの確認を実行してください").show();
                    isValid = false;
                }

                return isValid;
            });

            var isErr = $("dl:hidden .ec-errorMessage").length;
            if( isErr ){
                $(".showerror").html("申し訳ありません。データ登録で問題が発生しました。<br> \
                                    お手数をおかけしますが、<br> \
                                    <a href=\"mailto:keiyaku@darcys-factory.co.jp\">keiyaku@darcys-factory.co.jp</a><br> \
                                    までご連絡下さい。").show();
            }


            $(".ec-blockBtn--search").on("click", function(){
                $('#dataSearch').modal('show');
                $("#btn_search_query").off("click").on("click", function(){
                    var contractTypeId = $("#entry_chain_store_contract_type").val();
                    var email = $("#search_mail").val();
                    var birth_year = $("#search_birth_year").val();
                    var birth_month = $("#search_birth_month").val();
                    var birth_day = $("#search_birth_day").val();
                    var birthday = birth_year + "/" + birth_month + "/" + birth_day;
                    var searcherr = $(".searcherror");

                    searcherr.html("").hide();
                    $(".showerror").html("").hide();

                    if(contractTypeId == ""){
                        searcherr.html("販売店契約を入力してください").show();
                        return false;
                    }
                    if(email == ""){
                        searcherr.html("メールアドレスを入力してください").show();
                        return false;
                    }
                    if(birth_year == ""){
                        searcherr.html("生年月日の年を入力してください").show();
                        return false;
                    }
                    if(birth_month == ""){
                        searcherr.html("生年月日の月を入力してください").show();
                        return false;
                    }
                    if(birth_day == ""){
                        searcherr.html("生年月日の日を入力してください").show();
                        return false;
                    }

                    if(!isValidDate(birthday)){
                        searcherr.html("生年月日が正しくありません").show();
                        return false;
                    }

                    showLoading(true);
                    $.ajax({
                        type: "POST",
                        url: "/chainstore/api/pre",
                        data: JSON.stringify({
                            "contractId": contractTypeId,
                            "email": email,
                            "birthday": birthday
                            }),
                        dataType : "json",
                    }).done(function(data){
                        showLoading(false);
                        if(data.status == "NF"){
                            searcherr.html(data.message).show();
                            return false;
                        }
                        if(data.status == "NG"){
                            var debug = '<span class="ec-debug">デバッグ用<br>' + data.debug.replace(/\n/g, "<br />") + "</span>";
                            searcherr.html(data.message + debug).show();
                            return false;
                        }

                        var dt = data.data;
                        $("#entry_chain_store_pre_chainstore").val(dt.id);
                        //申込者の契約区分
                        $("#entry_chain_store_applicant_contract_type option").filter(function(index){
                            return $(this).text() === dt.applicantContractTypeName;
                        }).prop('selected', true);
                        //法人番号
                        $("#entry_chain_store_corporate_number").val(dt.corporateNumber);
                        //契約番号
                        $("#entry_chain_store_stock_number").val(dt.stockNumber);
                        //契約開始年月
                        $("#entry_chain_store_contract_begin_ymd_year").val(year);
                        $("#entry_chain_store_contract_begin_ymd_month").val(month);
                        $("#entry_chain_store_contract_begin_ymd_day").val(day);
                        //法人名・屋号
                        $("#entry_chain_store_company_name").val(dt.companyName);
                        //法人名・屋号（フリガナ）
                        $("#entry_chain_store_company_name_kana").val(dt.companyNameKana);
                        //設立日（開業日）
                        var timestamp = Date.parse(dt.beginDay);
                        var begin_today = new Date(timestamp);
                        var begin_year = begin_today.getFullYear();
                        var begin_month = begin_today.getMonth()+1;
                        var begin_day = begin_today.getDate();
                        $("#entry_chain_store_begin_day_year").val(begin_year);
                        $("#entry_chain_store_begin_day_month").val(begin_month);
                        $("#entry_chain_store_begin_day_day").val(begin_day);
                        //所在地・住所
                        $("#entry_chain_store_chainstore_postal_code").val(dt.postalCode);
                        $("#entry_chain_store_chainstore_pref option").filter(function(index){
                            return $(this).text() === dt.addr01;
                        }).prop('selected', true);
                        $("#entry_chain_store_chainstore_address01").val(dt.addr02);
                        $("#entry_chain_store_chainstore_address02").val(dt.addr03);
                        //所在地・住所（フリガナ）
                        $("#entry_chain_store_addr01_ka").val(dt.addr01Ka);
                        //お名前（代表者）姓
                        $("#entry_chain_store_name_name01").val(dt.name01);
                        //お名前（代表者）名
                        $("#entry_chain_store_name_name02").val(dt.name02);
                        //お名前（代表者）(カナ)姓
                        $("#entry_chain_store_kana_kana01").val(dt.kana01);
                        //お名前（代表者）(カナ)名
                        $("#entry_chain_store_kana_kana02").val(dt.kana02);
                        //電話番号
                        $("#entry_chain_store_contact_phone_number").val(dt.telephoneNo);
                        //携帯電話
                        $("#entry_chain_store_cellphone_number").val(dt.cellphoneNo);
                        //この情報を基に契約書を作成します
                        $("#entry_chain_store_chain_store_make_contract_type option").filter(function(index){
                            return $(this).text() === dt.optionMakeContract;
                        }).prop('selected', true);

                        //==> 仲介者情報
                        //法人名・屋号
                        $("#entry_chain_store_mediator_company_name").val(dt.mediatorCompanyName);
                        //法人名・屋号（フリガナ）
                        $("#entry_chain_store_mediator_company_name_kana").val(dt.mediatorCompanyNameKana);
                        //代表者氏名 姓
                        $("#entry_chain_store_mediator_name_mediator_name01").val(dt.mediatorName01);
                        //代表者氏名 名
                        $("#entry_chain_store_mediator_name_mediator_name02").val(dt.mediatorName02);
                        //代表者氏名（フリガナ） 姓
                        $("#entry_chain_store_mediator_kana_mediator_kana01").val(dt.mediatorKana01);
                        //代表者氏名（フリガナ） 名
                        $("#entry_chain_store_mediator_kana_mediator_kana02").val(dt.mediatorKana02);
                        //ディーラーコード
                        $("#entry_chain_store_dealer_code").val(dt.dealerCode);
                        //所在地・住所
                        $("#entry_chain_store_mediator_address01").val(dt.mediatorAddress01);
                        //電話番号
                        $("#entry_chain_store_mediator_phone_number").val(dt.mediatorPhoneNumber);

                        //==> 取引口座情報
                        //取引口座選択
                        $("#entry_chain_store_chainStoreTradingAccountType option").filter(function(index){
                            return $(this).text() === dt.isPostbankList;
                        }).prop('selected', true);
                        //金融機関名
                        $("#entry_chain_store_bank").val(dt.bankId);
                        //支店名
                        $("#entry_chain_store_bank_branch").val(dt.branchId);
                        $("#entry_chain_store_bank").trigger("change");
                        //預金種目
                        $("#entry_chain_store_bank_account_type").val(dt.bankAccountType);
                        //口座番号
                        $("#entry_chain_store_bank_account").val(dt.bankAccountNo);
                        //通帳記号（下5桁）
                        $("#entry_chain_store_code_number").val(dt.postCodeNumber);
                        //通帳番号（8桁）
                        $("#entry_chain_store_account_number").val(dt.postPassbookNumber);
                        //口座名義
                        $("#entry_chain_store_bankHolderName").val(dt.bankHolderName);
                        //口座名義（フリガナ）
                        $("#entry_chain_store_bank_holder").val(dt.bankHolder);

                        //==> 販売店舗情報
                        //販売店舗の関連性
                        $("#entry_chain_store_related_chainstore_type option").filter(function(index){
                            return $(this).text() === dt.relatedChainstoreTypeName;
                        }).prop('selected', true);
                        //販売店の業務形態
                        $("#entry_chain_store_chainstore_business_type option").filter(function(index){
                            return $(this).text() === dt.chainstoreBusinessTypeName;
                        }).prop('selected', true);
                        //販売店の業務形態(その他)
                        $("#entry_chain_store_chainstore_business_other_type").val(dt.chainstoreBusinessOtherTypeName);
                        //販売店名
                        $("#entry_chain_store_chainstore_name").val(dt.chainstoreName);
                        //販売店名
                        $("#entry_chain_store_chainstore_name_kana").val(dt.chainstoreNameKana);
                        //運営会社・運営者
                        $("#entry_chain_store_operating_name").val(dt.operatingName);
                        //運営会社・運営者（フリガナ）
                        $("#entry_chain_store_operating_kana").val(dt.operatingNameKana);
                        //提供方法
                        $("#entry_chain_store_chainstore_provide_type option").filter(function(index){
                            return $(this).text() === dt.chainstoreProvideTypeName;
                        }).prop('selected', true);
                        //提供スタイル
                        $("#entry_chain_store_chainstore_provide_style_type option").filter(function(index){
                            return $(this).text() === dt.chainstoreProvideStyleTypeName;
                        }).prop('selected', true);
                        //店舗所在地-郵便番号
                        $("#entry_chain_store_postal_code").val(dt.chainstoreMainPostalCode);
                        //店舗所在地-都道府県
                        $("#entry_chain_store_addr01 option").filter(function(index){
                            return $(this).text() === dt.chainstoreMainAddr01;
                        }).prop('selected', true);
                        //店舗所在地-市町村名
                        $("#entry_chain_store_addr02").val(dt.chainstoreMainAddr02);
                        //店舗所在地-番地・ビル名
                        $("#entry_chain_store_addr03").val(dt.chainstoreMainAddr03);
                        //担当者名 姓
                        $("#entry_chain_store_main_name_main_name01").val(dt.chainstoreOwner01);
                        //担当者名 名
                        $("#entry_chain_store_main_name_main_name02").val(dt.chainstoreOwner02);
                        //販売店舗担当者名「姓」（フリガナ）
                        $("#entry_chain_store_main_kana_main_kana01").val(dt.chainstoreOwnerKana01);
                        //販売店舗担当者名「名」（フリガナ）
                        $("#entry_chain_store_main_kana_main_kana02").val(dt.chainstoreOwnerKana02);
                        //店舗連絡先（電話番号）
                        $("#entry_chain_store_phone_number").val(dt.chainstoreTelephoneNo);
                        //店舗メールアドレス
                        $("#entry_chain_store_chainstore_email_first").val(dt.chainstoreEmail);
                        $("#entry_chain_store_chainstore_email_second").val(dt.chainstoreEmail);

                        //WEBショップでダシーズの出品予定はありますか
                        $("#entry_chain_store_option_webshop option").filter(function(index){
                            return $(this).text() === dt.webshopSaleIceList;
                        }).prop('selected', true);
                        //ＷＥＢショップ店舗名
                        $("#entry_chain_store_webshop_name").val(dt.webshopName);
                        //出店WEBショップURL
                        $("#entry_chain_store_webshop_url").val(dt.webshopUrl);
                        //出店WEBショップの運営会社
                        $("#entry_chain_store_chain_store_web_shop_opening_type option").filter(function(index){
                            return $(this).text() === dt.chainstoreWebshopOpeningTypeName;
                        }).prop('selected', true);
                        //出店WEBショップの運営会社(その他)
                        $("#entry_chain_store_chainstore_webshop_opening_other_type").val(dt.chainstoreWebshopOpeningOtherTypeName);
                        //WEBショップ運営担当者
                        $("#entry_chain_store_chain_store_web_shop_owner_type option").filter(function(index){
                            return $(this).text() === dt.chainstoreWebshopOwnerTypeName;
                        }).prop('selected', true);
                        //上記WEBショップ運営担当者名
                        $("#entry_chain_store_webshop_main_operation_name").val(dt.chainstoreWebshopOwnerName);
                        //運営担当者電話番号
                        $("#entry_chain_store_chain_store_web_shop_phone_type option").filter(function(index){
                            return $(this).text() === dt.chainstoreWebshopPhoneTypeName;
                        }).prop('selected', true);
                        //運営担当者電話番号(その他)
                        $("#entry_chain_store_chainstore_webshop_phone_other_type").val(dt.chainstoreWebshopPhoneOtherTypeName);
                        //運営担当者メールアドレス
                        $("#entry_chain_store_chain_store_web_shop_email_type option").filter(function(index){
                            return $(this).text() === dt.chainstoreWebshopEmailTypeName;
                        }).prop('selected', true);
                        //運営担当者メールアドレス(その他)
                        $("#entry_chain_store_chainstore_webshop_mail_other_type").val(dt.chainstoreWebshopEmailOtherTypeName);

                        //==> パートナー情報
                        //パートナー指定
                        $("#entry_chain_store_option_partner option").filter(function(index){
                            return $(this).text() === dt.optionPartner;
                        }).prop('selected', true);
                        //法人名
                        $("#entry_chain_store_partner_company_name").val(dt.partnerCompanyName);
                        //法人名(フリガナ)
                        $("#entry_chain_store_partner_company_name_kana").val(dt.partnerCompanyNameKana);
                        //代表者名 姓
                        $("#entry_chain_store_partner_name_partner_name01").val(dt.partnerName01);
                        //代表者名 名
                        $("#entry_chain_store_partner_name_partner_name02").val(dt.partnerName02);
                        //代表者名（フリガナ） 姓
                        $("#entry_chain_store_partner_kana_partner_kana01").val(dt.partnerKana01);
                        //代表者名（フリガナ） 名
                        $("#entry_chain_store_partner_kana_partner_kana02").val(dt.partnerKana02);
                        //パートナーの電話番号
                        $("#entry_chain_store_partner_phone_number").val(dt.partnerPhoneNumber);



                        //==> 会員情報
                        //お名前（担当者）姓
                        $("#entry_name_name01").val(dt.chainstoreName01);
                        //お名前（担当者）名
                        $("#entry_name_name02").val(dt.chainstoreName02);
                        //お名前（担当者）(カナ)姓
                        $("#entry_kana_kana01").val(dt.chainstoreNameKana01);
                        //お名前（担当者）(カナ)名
                        $("#entry_kana_kana02").val(dt.chainstoreNameKana02);
                        //会社名
                        $("#entry_company_name").val(dt.chainstoreCompanyName);
                        //住所-郵便番号
                        $("#entry_postal_code").val(dt.chainstorePostalCode);
                        //住所-都道府県
                        $("#entry_address_pref option").filter(function(index){
                            return $(this).text() === dt.chainstoreAddr01;
                        }).prop('selected', true);
                        //$("#entry_address_pref").val(dt.chainstoreAddr01);
                        //住所-市町村名
                        $("#entry_address_addr01").val(dt.chainstoreAddr02);
                        //住所-番地・ビル名
                        $("#entry_address_addr02").val(dt.chainstoreAddr03);
                        //電話番号
                        $("#entry_phone_number").val(dt.phoneNo);
                        //メールアドレス
                        $("#entry_email_first").val(email);
                        $("#entry_email_second").val(email);
                        //生年月日
                        $("#entry_birth_year").val(birth_year);
                        $("#entry_birth_month").val(birth_month);
                        $("#entry_birth_day").val(birth_day);
                        //利用規約に同意してお進みください
                        $("#entry_user_policy_check").prop("checked", true);

                        $('#dataSearch').modal('hide');
                        isWebshopBlock();
                        isPartnerBlock();
                        isCorporateNumber();
                        isPersonApply();
                        isBankOrPost();
                        showBusinessOtherType();
                        showOpeningOtherType();
                        showPhoneOtherType();
                        showEmailOtherType();
                    });
                    return false;
                });
            });

            var getChainstoreZipcode = function(code, callback){
                $.ajax({
                    type: "POST",
                    url: "/chainstore/api/zipcode",
                    data: JSON.stringify({
                        "zipcode": code
                        }),
                    dataType : "json",
                }).done(function(data){

                    if(data.data.length > 0){
                        var dt = data.data[0];
                        callback(dt);
                    }
                });
            };

            $("#entry_chain_store_chainstore_postal_code").on("blur change", function(){
                if($(this).val().length >= 7){
                    getChainstoreZipcode($(this).val(), function(dt){
                        $("#entry_chain_store_chainstore_pref option").filter(function(index){
                            return $(this).text() === dt.countyName;
                        }).prop('selected', true);

                        $("#entry_chain_store_chainstore_address01").val(dt.cityName + dt.townshipName);
                    });
                }
            });
            $("#entry_chain_store_postal_code").on("blur change", function(){
                if($(this).val().length >= 7){
                    getChainstoreZipcode($(this).val(), function(dt){
                        $("#entry_chain_store_addr01 option").filter(function(index){
                            return $(this).text() === dt.countyName;
                        }).prop('selected', true);

                        $("#entry_chain_store_addr02").val(dt.cityName + dt.townshipName);
                    });
                }
            });

            //$("#search_mail").val("test99@dzx.co.jp");
            //$("#search_birth_year").val("2000");
            //$("#search_birth_month").val("1");
            //$("#search_birth_day").val("1");

            $("#entry_chain_store_option_webshop").on("change", function(){
                isWebshopBlock();
            });
            $("#entry_chain_store_option_partner").on("change", function(){
                isPartnerBlock();
            });
            $("#entry_chain_store_applicant_contract_type").on("change", function(){
                isCorporateNumber();
                isPersonApply();
            });
            $("#entry_chain_store_chainStoreTradingAccountType").on("change", function(){
                isBankOrPost();
            });
            $("#entry_chain_store_chainstore_business_type").on("change", function(){
                showBusinessOtherType();
            });
            $("#entry_chain_store_chain_store_web_shop_opening_type").on("change", function(){
                showOpeningOtherType();
            });
            $("#entry_chain_store_chain_store_web_shop_phone_type").on("change", function(){
                showPhoneOtherType();
            });
            $("#entry_chain_store_chain_store_web_shop_email_type").on("change", function(){
                showEmailOtherType();
            });

            isWebshopBlock();
            isPartnerBlock();
            isCorporateNumber();
            isPersonApply();
            isBankOrPost();
            showBusinessOtherType();
            showOpeningOtherType();
            showPhoneOtherType();
            showEmailOtherType();
        });

        function isValidDate(str) {
            var d = new Date(str);
            return d instanceof Date && !isNaN(d);
        }

        function isWebshopBlock(){
            if($("#entry_chain_store_option_webshop").val() =="Y"){
                $(".webshop_sale").show();
            }else{
                $(".webshop_sale").hide();
            }
        }

        function isPartnerBlock(){
            if($("#entry_chain_store_option_partner").val() =="Y"){
                $(".ispartner").show();
            }else{
                $(".ispartner").hide();
            }
        }

        function isCorporateNumber(){
            if($("#entry_chain_store_applicant_contract_type").val() =="1"){
                $(".corporate_number").show();
            }else{
                $(".corporate_number").hide();
            }
        }

        function isPersonApply(){
            if($("#entry_chain_store_applicant_contract_type").val() =="3"){
                $(".company_name .ec-required, .company_name_kana .ec-required").hide();
            }else{
                $(".company_name .ec-required, .company_name_kana .ec-required").show();
            }
        }
        function isBankOrPost(){
            if($("#entry_chain_store_chainStoreTradingAccountType").val() =="1"){
                //ゆうちょ銀行以外の銀行
                $(".isbank").show();
                $(".ispost").hide();
            }else{
                //ゆうちょ銀行
                $(".isbank").hide();
                $(".ispost").show();
            }
        }
        function showBusinessOtherType(){
            if($("#entry_chain_store_chainstore_business_type").val() =="3"){
                $("#entry_chain_store_chainstore_business_other_type").show();
            }else{
                $("#entry_chain_store_chainstore_business_other_type").hide();
            }
        }
        function showOpeningOtherType(){
            if($("#entry_chain_store_chain_store_web_shop_opening_type").val() =="3"){
                $("#entry_chain_store_chainstore_webshop_opening_other_type").show();
            }else{
                $("#entry_chain_store_chainstore_webshop_opening_other_type").hide();
            }
        }
        function showPhoneOtherType(){
            if($("#entry_chain_store_chain_store_web_shop_phone_type").val() =="3"){
                $("#entry_chain_store_chainstore_webshop_phone_other_type").show();
            }else{
                $("#entry_chain_store_chainstore_webshop_phone_other_type").hide();
            }
        }
        function showEmailOtherType(){
            if($("#entry_chain_store_chain_store_web_shop_email_type").val() =="3"){
                $("#entry_chain_store_chainstore_webshop_mail_other_type").show();
            }else{
                $("#entry_chain_store_chainstore_webshop_mail_other_type").hide();
            }
        }
    </script>
{% endblock javascript %}

{% block main %}
    <div class="ec-registerRole">
        {% if ChainStoreTypeErr %}
            <div class="ec-off1Grid">
                <div class="ec-off1Grid__cell">
                    <div class="alert alert-danger" role="alert">無効な販売店URLです</div>
                </div>
            </div>
        {% else %}
            {% set hideMode = (ChainstoreTypeMode =='simple'?'display:none;':'') %}
            {% set showMode = (ChainstoreTypeMode =='simple'?'':'display:none;') %}

            <div class="ec-chainstore-pageHeader">
                {% if ChainstoreType.id == 1 %}
                    <h1>販売店契約</h1>
                {% endif %}
                {% if ChainstoreType.id == 2 %}
                    <h1>販売店（応援プログラム）契約</h1>
                {% endif %}
                {% if ChainstoreType.id == 3 %}
                    <h1>小売販売店契約</h1>
                {% endif %}
                <p>発注システム開始確認ページ</p>
            </div>
            <div class="ec-off1Grid">
                <div class="ec-off1Grid__cell">
                    <form method="post" action="{{ url('entry_chainstore', {'chainstore_type': ChainstoreTypeUrl}) }}" novalidate class="h-adr">
                        <span class="p-country-name" style="display:none;">Japan</span>
                        {{ form_widget(form._token) }}
                        <div class="ec-borderedDefs" style="{{hideMode}}">
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.contract_type, 'admin.chainstore.contract_type', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-select{{ has_errors(form.chain_store.contract_type) ? ' error' }}">
                                        {{ChainstoreType.name}}
                                        {{ form_widget(form.chain_store.contract_type, { type : 'hidden' }) }}
                                        {{ form_widget(form.chain_store.pre_chainstore, { type : 'hidden' }) }}
                                        {{ form_widget(form.chain_store.chainstore_address_full, { type : 'hidden' }) }}
                                        {{ form_widget(form.chain_store.full_name, { type : 'hidden' }) }}
                                        {{ form_widget(form.chain_store.mediator_fullname, { type : 'hidden' }) }}
                                    </div>
                                </dd>
                            </dl>

                            <!-- 申込者の契約区分 -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.applicant_contract_type, 'admin.chainstore.applicant_contract_type', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-select{{ has_errors(form.chain_store.applicant_contract_type) ? ' error' }}">
                                        {{ form_widget(form.chain_store.applicant_contract_type) }}
                                        {{ form_errors(form.chain_store.applicant_contract_type) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 法人番号 -->
                            <dl class="corporate_number">
                                <dt>
                                    {{ form_label(form.chain_store.corporate_number, 'admin.chainstore.corporate_number', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    <span class="ec-required">必須</span>
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.chain_store.corporate_number) ? ' error' }}">
                                        {{ form_widget(form.chain_store.corporate_number, { 'attr': { 'maxlength':'13', 'placeholder': 'admin.chainstore.corporate_number' }}) }}
                                        {{ form_errors(form.chain_store.corporate_number) }}
                                    </div>
                                </dd>
                            </dl>
                            {% if ChainstoreTypeMode != 'simple' %}
                                <!-- 契約番号 -->
                                <dl>
                                    <dt>
                                        {{ form_label(form.chain_store.stock_number, '契約番号', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    </dt>
                                    <dd>
                                        <div class="ec-halfInput{{ has_errors(form.chain_store.stock_number) ? ' error' }}">
                                            {{ form_widget(form.chain_store.stock_number, { 'attr': { 'maxlength':'10', 'placeholder': 'admin.chainstore.stock_number' }}) }}
                                            {{ form_errors(form.chain_store.stock_number) }}
                                        </div>
                                    </dd>
                                </dl>
                            {% endif %}
                            <!-- 契約開始年月  -->
                            <dl style="display:none;">
                                <dt>
                                    {{ form_label(form.chain_store.contract_begin_ymd, 'admin.chainstore.contract_begin_ymd', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-birth{{ has_errors(form.chain_store.contract_begin_ymd) ? ' error' }}">
                                        {{ form_widget(form.chain_store.contract_begin_ymd.year) }}<span>/</span>
                                        {{ form_widget(form.chain_store.contract_begin_ymd.month) }}<span>/</span>
                                        {{ form_widget(form.chain_store.contract_begin_ymd.day) }}
                                        {{ form_errors(form.chain_store.contract_begin_ymd) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 法人名・屋号 -->
                            <dl class="company_name">
                                <dt>
                                    {{ form_label(form.chain_store.company_name, 'admin.chainstore.chainstore_name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    <span class="ec-required">必須</span>
                                </dt>
                                <dd class="ismemo">
                                    <div class="ec-input{{ has_errors(form.chain_store.company_name) ? ' error' }}">
                                        {{ form_widget(form.chain_store.company_name, { 'attr': { 'placeholder': 'admin.chainstore.chainstore_name' }}) }}
                                        {{ form_errors(form.chain_store.company_name) }}
                                    </div>
                                    <span class="form_memo">※個人の場合は空欄で構いません</span>
                                </dd>
                            </dl>
                            <!-- 法人名・屋号（フリガナ） -->
                            <dl class="company_name_kana">
                                <dt>
                                    {{ form_label(form.chain_store.company_name_kana, 'admin.chainstore.chainstore_name_ka', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    <span class="ec-required">必須</span>
                                </dt>
                                <dd class="ismemo">
                                    <div class="ec-input{{ has_errors(form.chain_store.company_name_kana) ? ' error' }}">
                                        {{ form_widget(form.chain_store.company_name_kana, { 'attr': { 'placeholder': 'admin.chainstore.chainstore_name_ka' }}) }}
                                        {{ form_errors(form.chain_store.company_name_kana) }}
                                    </div>
                                    <span class="form_memo">※個人の場合は空欄で構いません</span>
                                </dd>
                            </dl>
                            <!-- 設立日（開業日） -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.begin_day, 'admin.chainstore.begin_day', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-birth{{ has_errors(form.chain_store.begin_day) ? ' error' }}">
                                        {{ form_widget(form.chain_store.begin_day.year) }}<span>/</span>
                                        {{ form_widget(form.chain_store.begin_day.month) }}<span>/</span>
                                        {{ form_widget(form.chain_store.begin_day.day) }}
                                        {{ form_errors(form.chain_store.begin_day) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 所在地 -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.chainstore_postal_code, 'admin.chainstore.address', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <!-- 郵便番号 -->
                                    <div class="ec-zipInput{{ has_errors(form.chain_store.chainstore_postal_code) ? ' error' }}"><span>{{ 'common.postal_symbol'|trans }}</span>
                                        {{ form_widget(form.chain_store.chainstore_postal_code) }}
                                        <div class="ec-zipInputHelp">
                                            <div class="ec-zipInputHelp__icon">
                                                <div class="ec-icon"><img
                                                            src="{{ asset('assets/icon/question-white.svg') }}" alt="">
                                                </div>
                                            </div><a href="https://www.post.japanpost.jp/zipcode/" target="_blank"><span>{{ 'common.search_postal_code'|trans }}</span></a>
                                        </div>
                                        {{ form_errors(form.chain_store.chainstore_postal_code) }}
                                    </div>

                                    <div class="ec-select{{ has_errors(form.chain_store.chainstore_pref) ? ' error' }}">
                                        {{ form_widget(form.chain_store.chainstore_pref) }}
                                        {{ form_errors(form.chain_store.chainstore_pref) }}
                                    </div>
                                    <!-- 所在地・住所 -->
                                    <div class="ec-input{{ has_errors(form.chain_store.chainstore_address01) ? ' error' }}">
                                        {{ form_widget(form.chain_store.chainstore_address01, { 'attr': { 'placeholder': 'common.address_sample_01' }}) }}
                                        {{ form_errors(form.chain_store.chainstore_address01) }}
                                    </div>
                                    <div class="ec-input{{ has_errors(form.chain_store.chainstore_address02) ? ' error' }}">
                                        {{ form_widget(form.chain_store.chainstore_address02,  { 'attr': { 'placeholder': 'common.address_sample_02' }}) }}
                                        {{ form_errors(form.chain_store.chainstore_address02) }}
                                    </div>
                                    <!-- 所在地・住所(フリガナ) -->
                                    <div class="ec-input{{ has_errors(form.chain_store.addr01_ka) ? ' error' }}">
                                        {{ form_widget(form.chain_store.addr01_ka, { 'attr': { 'placeholder': 'common.address_sample_01_ka' }}) }}
                                        {{ form_errors(form.chain_store.addr01_ka) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 代表者名・氏名 -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.name, 'admin.chainstore.representative_name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.chain_store.name.name01, form.chain_store.name.name02) ? ' error' }}">
                                        {{ form_widget(form.chain_store.name.name01, { 'attr': { 'placeholder': 'common.last_name' }}) }}
                                        {{ form_widget(form.chain_store.name.name02, { 'attr': { 'placeholder': 'common.first_name' }}) }}
                                        {{ form_errors(form.chain_store.name.name01) }}
                                        {{ form_errors(form.chain_store.name.name02) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 代表者名・氏名（フリガナ） -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.kana, 'admin.chainstore.representative_name_ka', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.chain_store.kana.kana01, form.chain_store.kana.kana02) ? ' error' }}">
                                        {{ form_widget(form.chain_store.kana.kana01, { 'attr': { 'placeholder': 'common.last_name_kana' }}) }}
                                        {{ form_widget(form.chain_store.kana.kana02, { 'attr': { 'placeholder': 'common.first_name_kana' }}) }}
                                        {{ form_errors(form.chain_store.kana.kana01) }}
                                        {{ form_errors(form.chain_store.kana.kana02) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 携帯電話 -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.cellphone_number, 'admin.chainstore.cellphone_number', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.chain_store.cellphone_number) ? ' error' }}">
                                        {{ form_widget(form.chain_store.cellphone_number, { 'attr': { 'maxlength':'20', 'placeholder': 'admin.chainstore.cellphone_number' }}) }}
                                        {{ form_errors(form.chain_store.cellphone_number) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 固定電話 -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.contact_phone_number, 'admin.chainstore.phone_number', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.chain_store.contact_phone_number) ? ' error' }}">
                                        {{ form_widget(form.chain_store.contact_phone_number, { 'attr': { 'maxlength':'20', 'placeholder': 'admin.chainstore.phone_number' }}) }}
                                        {{ form_errors(form.chain_store.contact_phone_number) }}
                                    </div>
                                </dd>
                            </dl>
                        </div>


                        <div class="dzx-header" style="{{hideMode}}">
                            仲介者情報
                        </div>
                        <div class="ec-borderedDefs" style="{{hideMode}}">
                            <!-- 仲介者 法人名・屋号 -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.mediator_company_name, 'admin.chainstore.mediator.chainstore_name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-input{{ has_errors(form.chain_store.mediator_company_name) ? ' error' }}">
                                        {{ form_widget(form.chain_store.mediator_company_name, { 'attr': { 'placeholder': 'admin.chainstore.mediator.chainstore_name' }}) }}
                                        {{ form_errors(form.chain_store.mediator_company_name) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 仲介者 法人名・屋号（フリガナ） -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.mediator_company_name_kana, 'admin.chainstore.mediator.chainstore_name_ka', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-input{{ has_errors(form.chain_store.mediator_company_name_kana) ? ' error' }}">
                                        {{ form_widget(form.chain_store.mediator_company_name_kana, { 'attr': { 'placeholder': 'admin.chainstore.mediator.chainstore_name_ka' }}) }}
                                        {{ form_errors(form.chain_store.mediator_company_name_kana) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 仲介者 代表者名・氏名 -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.mediator_name, 'admin.chainstore.mediator.representative_name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.chain_store.mediator_name.mediator_name01, form.chain_store.mediator_name.mediator_name02) ? ' error' }}">
                                        {{ form_widget(form.chain_store.mediator_name.mediator_name01, { 'attr': { 'placeholder': 'common.last_name' }}) }}
                                        {{ form_widget(form.chain_store.mediator_name.mediator_name02, { 'attr': { 'placeholder': 'common.first_name' }}) }}
                                        {{ form_errors(form.chain_store.mediator_name.mediator_name01) }}
                                        {{ form_errors(form.chain_store.mediator_name.mediator_name02) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 仲介者 代表者名・氏名（フリガナ） -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.mediator_kana, 'admin.chainstore.mediator.representative_name_ka', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.chain_store.mediator_kana.mediator_kana01, form.chain_store.mediator_kana.mediator_kana02) ? ' error' }}">
                                        {{ form_widget(form.chain_store.mediator_kana.mediator_kana01, { 'attr': { 'placeholder': 'common.last_name_kana' }}) }}
                                        {{ form_widget(form.chain_store.mediator_kana.mediator_kana02, { 'attr': { 'placeholder': 'common.first_name_kana' }}) }}
                                        {{ form_errors(form.chain_store.mediator_kana.mediator_kana01) }}
                                        {{ form_errors(form.chain_store.mediator_kana.mediator_kana02) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 仲介者 ディーラーコード -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.dealer_code, 'admin.chainstore.mediator.dealer_code', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.chain_store.dealer_code) ? ' error' }}">
                                        {{ form_widget(form.chain_store.dealer_code, { 'attr': { 'maxlength':'20', 'placeholder': 'admin.chainstore.mediator.dealer_code' }}) }}
                                        {{ form_errors(form.chain_store.dealer_code) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 仲介者 所在地・住所 -->
                            <dl style="display:none;">
                                <dt>
                                    {% if ChainstoreType.id == "3" %}
                                        {{ form_label(form.chain_store.mediator_address01, 'admin.chainstore.mediator.kouri_address01', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    {% else %}
                                        {{ form_label(form.chain_store.mediator_address01, 'admin.chainstore.mediator.address01', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    {% endif %}
                                </dt>
                                <dd>
                                    <div class="ec-input{{ has_errors(form.chain_store.mediator_address01) ? ' error' }}">
                                        {% if ChainstoreType.id == "3" %}
                                            {{ form_widget(form.chain_store.mediator_address01, { 'attr': { 'maxlength':'255', 'placeholder': 'admin.chainstore.mediator.kouri_address01' }}) }}
                                        {% else %}
                                            {{ form_widget(form.chain_store.mediator_address01, { 'attr': { 'maxlength':'255', 'placeholder': 'admin.chainstore.mediator.address01' }}) }}
                                        {% endif %}
                                        {{ form_errors(form.chain_store.mediator_address01) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 仲介者 電話番号 -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.mediator_phone_number, 'admin.chainstore.mediator.telephone', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.chain_store.mediator_phone_number) ? ' error' }}">
                                        {{ form_widget(form.chain_store.mediator_phone_number, { 'attr': { 'maxlength':'20', 'placeholder': 'admin.chainstore.mediator.telephone' }}) }}
                                        {{ form_errors(form.chain_store.mediator_phone_number) }}
                                    </div>
                                </dd>
                            </dl>
                        </div>

                        <div class="dzx-header" style="{{hideMode}}">
                            取引口座情報
                        </div>
                        <div class="ec-borderedDefs" style="{{hideMode}}">
                            <!-- 取引口座選択 -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.chainStoreTradingAccountType, 'admin.chainstore.chainstore_bank_trading_type', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-select{{ has_errors(form.chain_store.chainStoreTradingAccountType) ? ' error' }}">
                                        {{ form_widget(form.chain_store.chainStoreTradingAccountType, { 'attr': { 'placeholder': 'common.select__chainstore_bank_trading_type' }}) }}
                                        {{ form_errors(form.chain_store.chainStoreTradingAccountType) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 金融機関名 -->
                            <dl class="isbank">
                                <dt>
                                    {{ form_label(form.chain_store.bank, 'admin.chainstore.chainstore_bank_name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    <span class="ec-required">必須</span>
                                </dt>
                                <dd>
                                    <div class="ec-select{{ has_errors(form.chain_store.bank) ? ' error' }}">
                                        {{ form_widget(form.chain_store.bank, { 'attr': { 'placeholder': 'admin.chainstore.chainstore_bank_name' }}) }}
                                        {{ form_errors(form.chain_store.bank) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 支店名 -->
                            <dl class="isbank">
                                <dt>
                                    {{ form_label(form.chain_store.bank_branch, '支店名', { 'label_attr': {'class': 'ec-label' }}) }}
                                    <span class="ec-required">必須</span>
                                </dt>
                                <dd>
                                    <div class="ec-halfInput">
                                        <input type="text" id="bank_branch_id" maxlength=3 class="form-control" placeholder="支店番号">
                                        <button class="ec-headerSearch__keywordBtn btn_bank_search" type="button" style="width:36px;height:36px;">
                                            <div class="ec-icon">
                                                <img src="/html/template/default/assets/icon/search-dark.svg" alt="">
                                            </div>
                                        </button>
                                    </div>

                                    <div class="ec-select{{ has_errors(form.chain_store.bank_branch) ? ' error' }}">
                                        <select id="bank_branch_code" name="bank_branch_code" class="p-bank-name form-control" placeholder="支店名">
                                        </select>

                                        {{ form_widget(form.chain_store.bank_branch, { 'attr': { 'style': 'display:none;' }}) }}
                                        {{ form_errors(form.chain_store.bank_branch) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 預金種目 -->
                            <dl class="isbank">
                                <dt>
                                    {{ form_label(form.chain_store.bank_account_type, 'admin.chainstore.chainstore_bank_account_type', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    <span class="ec-required">必須</span>
                                </dt>
                                <dd>
                                    <div class="ec-select{{ has_errors(form.chain_store.bank_account_type) ? ' error' }}">
                                        {{ form_widget(form.chain_store.bank_account_type) }}
                                        {{ form_errors(form.chain_store.bank_account_type) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 通帳記号（下5桁）（ゆうちょ） -->
                            <dl class="ispost">
                                <dt>
                                    {{ form_label(form.chain_store.code_number, 'admin.chainstore.chainstore_code_number', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    <span class="ec-required">必須</span>
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.chain_store.code_number) ? ' error' }}">
                                        {{ form_widget(form.chain_store.code_number, { 'attr': { 'placeholder': 'admin.chainstore.chainstore_code_number' }}) }}
                                        {{ form_errors(form.chain_store.code_number) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 通帳番号（8桁）（ゆうちょ） -->
                            <dl class="ispost">
                                <dt>
                                    {{ form_label(form.chain_store.account_number, 'admin.chainstore.chainstore_account_number', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    <span class="ec-required">必須</span>
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.chain_store.account_number) ? ' error' }}">
                                        {{ form_widget(form.chain_store.account_number, { 'attr': { 'placeholder': 'admin.chainstore.chainstore_account_number' }}) }}
                                        {{ form_errors(form.chain_store.account_number) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 口座番号 -->
                            <dl class="isbank">
                                <dt>
                                    {{ form_label(form.chain_store.bank_account, 'admin.chainstore.chainstore_bank_account', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    <span class="ec-required">必須</span>
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.chain_store.bank_account) ? ' error' }}">
                                        {{ form_widget(form.chain_store.bank_account, { 'attr': { 'placeholder': 'admin.common.bank_account' }}) }}
                                        {{ form_errors(form.chain_store.bank_account) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 口座名義 -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.bankHolderName, 'admin.chainstore.chainstore_bank_holder', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.chain_store.bankHolderName) ? ' error' }}">
                                        {{ form_widget(form.chain_store.bankHolderName, { 'attr': { 'placeholder': 'admin.common.bank_holder' }}) }}
                                        {{ form_errors(form.chain_store.bankHolderName) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- 口座名義（フリガナ） -->
                            <dl>
                                <dt>
                                    {{ form_label(form.chain_store.bank_holder, 'admin.chainstore.chainstore_bank_holder_ka', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.chain_store.bank_holder) ? ' error' }}">
                                        {{ form_widget(form.chain_store.bank_holder, { 'attr': { 'placeholder': 'admin.chainstore.chainstore_bank_holder_ka' }}) }}
                                        {{ form_errors(form.chain_store.bank_holder) }}
                                    </div>
                                </dd>
                            </dl>
                        </div>

                        {% if ChainstoreType.id != "2" %}
                            <div style="{{hideMode}}">
                        {% else %}
                            <div style="display:none;" style="{{hideMode}}">
                        {% endif %}

                            <div class="dzx-header">
                                販売店舗情報
                            </div>
                            <div class="ec-borderedDefs">
                                {% if ChainstoreType.id != "3" %}
                                    <!-- 販売店舗の関連性 -->
                                    <dl>
                                        <dt>
                                            {{ form_label(form.chain_store.related_chainstore_type, 'admin.chainstore.subchainstore.related_chainstore_type', { 'label_attr': { 'class': 'ec-label' }}) }}
                                            <span class="ec-required">必須</span>
                                        </dt>
                                        <dd>
                                            <div class="ec-select{{ has_errors(form.chain_store.related_chainstore_type) ? ' error' }}">
                                                {{ form_widget(form.chain_store.related_chainstore_type, { 'attr': { 'placeholder': 'admin.common.select__related_chainstore_type' }}) }}
                                                {{ form_errors(form.chain_store.related_chainstore_type) }}
                                            </div>
                                        </dd>
                                    </dl>
                                {% endif %}

                                <!-- 販売店の業務形態 -->
                                <dl>
                                    <dt>
                                        {{ form_label(form.chain_store.chainstore_business_type, 'admin.chainstore.subchainstore.chainstore_business_type', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-select{{ has_errors(form.chain_store.chainstore_business_type) ? ' error' }}">
                                            {{ form_widget(form.chain_store.chainstore_business_type, { 'attr': { 'placeholder': 'admin.common.select__chainstore_business_type' }}) }}
                                            {{ form_widget(form.chain_store.chainstore_business_other_type, { 'attr': { 'placeholder': 'admin.common.other' }}) }}
                                            {{ form_errors(form.chain_store.chainstore_business_type) }}
                                            {{ form_errors(form.chain_store.chainstore_business_other_type) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- 販売店名 -->
                                <dl>
                                    <dt>
                                        {{ form_label(form.chain_store.chainstore_name, 'admin.chainstore.subchainstore.chainstore_name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-input{{ has_errors(form.chain_store.chainstore_name) ? ' error' }}">
                                            {{ form_widget(form.chain_store.chainstore_name, { 'attr': { 'placeholder': 'admin.chainstore.subchainstore.chainstore_name' }}) }}
                                            {{ form_errors(form.chain_store.chainstore_name) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- 販売店名(フリガナ） -->
                                <dl>
                                    <dt>
                                        {{ form_label(form.chain_store.chainstore_name_kana, 'admin.chainstore.subchainstore.chainstore_name_kana', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-input{{ has_errors(form.chain_store.chainstore_name_kana) ? ' error' }}">
                                            {{ form_widget(form.chain_store.chainstore_name_kana, { 'attr': { 'placeholder': 'admin.chainstore.subchainstore.chainstore_name_kana' }}) }}
                                            {{ form_errors(form.chain_store.chainstore_name_kana) }}
                                        </div>
                                    </dd>
                                </dl>
                                {% if ChainstoreType.id != "3" %}
                                    <!-- 運営会社・運営者 -->
                                    <dl>
                                        <dt>
                                            {{ form_label(form.chain_store.operating_name, 'admin.chainstore.subchainstore.name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                            <span class="ec-required">必須</span>
                                        </dt>
                                        <dd>
                                            <div class="ec-input{{ has_errors(form.chain_store.operating_name) ? ' error' }}">
                                                {{ form_widget(form.chain_store.operating_name, { 'attr': { 'placeholder': 'admin.chainstore.subchainstore.name' }}) }}
                                                {{ form_errors(form.chain_store.operating_name) }}
                                            </div>
                                        </dd>
                                    </dl>
                                    <!-- 運営会社・運営者（フリガナ） -->
                                    <dl>
                                        <dt>
                                            {{ form_label(form.chain_store.operating_kana, 'admin.chainstore.subchainstore.kana', { 'label_attr': { 'class': 'ec-label' }}) }}
                                            <span class="ec-required">必須</span>
                                        </dt>
                                        <dd>
                                            <div class="ec-input{{ has_errors(form.chain_store.operating_kana) ? ' error' }}">
                                                {{ form_widget(form.chain_store.operating_kana, { 'attr': { 'placeholder': 'admin.chainstore.subchainstore.kana' }}) }}
                                                {{ form_errors(form.chain_store.operating_kana) }}
                                            </div>
                                        </dd>
                                    </dl>
                                {% endif %}
                                <!-- 提供方法 -->
                                <dl>
                                    <dt>
                                        {{ form_label(form.chain_store.chainstore_provide_type, 'admin.chainstore.subchainstore.chainstore_provide_type', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-select{{ has_errors(form.chain_store.chainstore_provide_type) ? ' error' }}">
                                            {{ form_widget(form.chain_store.chainstore_provide_type, { 'attr': { 'placeholder': 'admin.common.select__chainstore_provide_type' }}) }}
                                            {{ form_errors(form.chain_store.chainstore_provide_type) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- 提供スタイル -->
                                <dl>
                                    <dt>
                                        {{ form_label(form.chain_store.chainstore_provide_style_type, 'admin.chainstore.subchainstore.chainstore_provide_style_type', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-select{{ has_errors(form.chain_store.chainstore_provide_style_type) ? ' error' }}">
                                            {{ form_widget(form.chain_store.chainstore_provide_style_type, { 'attr': { 'placeholder': 'admin.common.select__chainstore_provide_style_type' }}) }}
                                            {{ form_errors(form.chain_store.chainstore_provide_style_type) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- 店舗所在地 -->
                                <dl>
                                    <dt>
                                        {{ form_label(form.chain_store.postal_code, 'admin.chainstore.subchainstore.address', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <!-- 店舗郵便番号 -->
                                        <div class="ec-zipInput{{ has_errors(form.chain_store.postal_code) ? ' error' }}"><span>{{ 'common.postal_symbol'|trans }}</span>
                                            {{ form_widget(form.chain_store.postal_code) }}
                                            <div class="ec-zipInputHelp">
                                                <div class="ec-zipInputHelp__icon">
                                                    <div class="ec-icon"><img
                                                                src="{{ asset('assets/icon/question-white.svg') }}" alt="">
                                                    </div>
                                                </div><a href="https://www.post.japanpost.jp/zipcode/" target="_blank"><span>{{ 'common.search_postal_code'|trans }}</span></a>
                                            </div>
                                            {{ form_errors(form.chain_store.postal_code) }}
                                        </div>

                                        <div class="ec-select{{ has_errors(form.chain_store.addr01) ? ' error' }}">
                                            {{ form_widget(form.chain_store.addr01) }}
                                            {{ form_errors(form.chain_store.addr01) }}
                                        </div>
                                        <!-- 店舗所在地・住所 -->
                                        <div class="ec-input{{ has_errors(form.chain_store.addr02) ? ' error' }}">
                                            {{ form_widget(form.chain_store.addr02, { 'attr': { 'placeholder': 'common.address_sample_01' }}) }}
                                            {{ form_errors(form.chain_store.addr02) }}
                                        </div>
                                        <div class="ec-input{{ has_errors(form.chain_store.addr03) ? ' error' }}">
                                            {{ form_widget(form.chain_store.addr03,  { 'attr': { 'placeholder': 'common.address_sample_02' }}) }}
                                            {{ form_errors(form.chain_store.addr03) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- 担当者名 -->
                                <dl>
                                    <dt>
                                        {{ form_label(form.chain_store.main_name, 'admin.chainstore.subchainstore.main_name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-halfInput{{ has_errors(form.chain_store.main_name.main_name01, form.chain_store.main_name.main_name02) ? ' error' }}">
                                            {{ form_widget(form.chain_store.main_name.main_name01, { 'attr': { 'placeholder': 'common.last_name' }}) }}
                                            {{ form_widget(form.chain_store.main_name.main_name02, { 'attr': { 'placeholder': 'common.first_name' }}) }}
                                            {{ form_errors(form.chain_store.main_name.main_name01) }}
                                            {{ form_errors(form.chain_store.main_name.main_name02) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- 担当者名カナ -->
                                <dl>
                                    <dt>
                                        {{ form_label(form.chain_store.main_kana, 'admin.chainstore.subchainstore.main_kana', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-halfInput{{ has_errors(form.chain_store.main_kana.main_kana01, form.chain_store.main_kana.main_kana02) ? ' error' }}">
                                            {{ form_widget(form.chain_store.main_kana.main_kana01, { 'attr': { 'placeholder': 'common.last_name' }}) }}
                                            {{ form_widget(form.chain_store.main_kana.main_kana02, { 'attr': { 'placeholder': 'common.first_name' }}) }}
                                            {{ form_errors(form.chain_store.main_kana.main_kana01) }}
                                            {{ form_errors(form.chain_store.main_kana.main_kana02) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- 店舗連絡先（電話番号） -->
                                <dl>
                                    <dt>
                                        {{ form_label(form.chain_store.phone_number, 'admin.chainstore.subchainstore.phone_number', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-halfInput{{ has_errors(form.chain_store.phone_number) ? ' error' }}">
                                            {{ form_widget(form.chain_store.phone_number, { 'attr': { 'maxlength':'20', 'placeholder': 'admin.chainstore.subchainstore.phone_number' }}) }}
                                            {{ form_errors(form.chain_store.phone_number) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- 店舗メールアドレス -->
                                <dl>
                                    <dt>
                                        {{ form_label(form.chain_store.chainstore_email, 'admin.chainstore.subchainstore.chainstore_email', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-input{{ has_errors(form.chain_store.chainstore_email.first) ? ' error' }}">
                                            {{ form_widget(form.chain_store.chainstore_email.first, { 'attr': { 'placeholder': 'common.mail_address_sample' }}) }}
                                            {{ form_errors(form.chain_store.chainstore_email.first) }}
                                        </div>
                                        <div class="ec-input{{ has_errors(form.chain_store.chainstore_email.second) ? ' error' }}">
                                            {{ form_widget(form.chain_store.chainstore_email.second, { 'attr': { 'placeholder': 'common.repeated_confirm' }}) }}
                                            {{ form_errors(form.chain_store.chainstore_email.second) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- WEBショップでダシーズの出品予定はありますか -->
                                <dl>
                                    <dt>
                                        {{ form_label(form.chain_store.option_webshop, 'admin.chainstore.subchainstore.webshop_sale_ice_list', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-select{{ has_errors(form.chain_store.option_webshop) ? ' error' }}">
                                            {{ form_widget(form.chain_store.option_webshop, { 'attr': {'placeholder': 'admin.chainstore.subchainstore.webshop_sale_ice_list' }}) }}
                                            {{ form_errors(form.chain_store.option_webshop) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- ＷＥＢショップ店舗名 -->
                                <dl class="webshop_sale">
                                    <dt>
                                        {{ form_label(form.chain_store.webshop_name, 'admin.chainstore.subchainstore.webshop_name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-input{{ has_errors(form.chain_store.webshop_name) ? ' error' }}">
                                            {{ form_widget(form.chain_store.webshop_name, { 'attr': { 'maxlength':'20', 'placeholder': 'admin.chainstore.subchainstore.webshop_name' }}) }}
                                            {{ form_errors(form.chain_store.webshop_name) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- 出店WEBショップURL -->
                                <dl class="webshop_sale">
                                    <dt>
                                        {{ form_label(form.chain_store.webshop_url, 'admin.chainstore.subchainstore.webshop_url', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-input{{ has_errors(form.chain_store.webshop_url) ? ' error' }}">
                                            {{ form_widget(form.chain_store.webshop_url, { 'attr': { 'maxlength':'20', 'placeholder': 'admin.chainstore.subchainstore.webshop_url' }}) }}
                                            {{ form_errors(form.chain_store.webshop_url) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- 出店WEBショップの運営会社 -->
                                <dl class="webshop_sale">
                                    <dt>
                                        {{ form_label(form.chain_store.chain_store_web_shop_opening_type, 'admin.chainstore.subchainstore.webshop_company_name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-select{{ has_errors(form.chain_store.chain_store_web_shop_opening_type) ? ' error' }}">
                                            {{ form_widget(form.chain_store.chain_store_web_shop_opening_type, { 'attr': { 'maxlength':'20', 'placeholder': 'admin.chainstore.subchainstore.webshop_company_name' }}) }}
                                            {{ form_widget(form.chain_store.chainstore_webshop_opening_other_type, { 'attr': { 'maxlength':'20', 'placeholder': 'admin.common.other' }}) }}
                                            {{ form_errors(form.chain_store.chain_store_web_shop_opening_type) }}
                                            {{ form_errors(form.chain_store.chainstore_webshop_opening_other_type) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- WEBショップ運営担当者 -->
                                <dl class="webshop_sale">
                                    <dt>
                                        {{ form_label(form.chain_store.chain_store_web_shop_owner_type, 'admin.chainstore.subchainstore.webshop_main_name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-select{{ has_errors(form.chain_store.chain_store_web_shop_owner_type) ? ' error' }}">
                                            {{ form_widget(form.chain_store.chain_store_web_shop_owner_type, { 'attr': { 'maxlength':'200', 'placeholder': 'admin.chainstore.subchainstore.webshop_main_name' }}) }}
                                            {{ form_errors(form.chain_store.chain_store_web_shop_owner_type) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- 上記WEBショップ運営担当者名 -->
                                <dl class="webshop_sale">
                                    <dt>
                                        {{ form_label(form.chain_store.webshop_main_operation_name, 'admin.chainstore.subchainstore.webshop_main_operation_name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-input{{ has_errors(form.chain_store.webshop_main_operation_name) ? ' error' }}">
                                            {{ form_widget(form.chain_store.webshop_main_operation_name, { 'attr': { 'maxlength':'200', 'placeholder': 'admin.chainstore.subchainstore.webshop_main_operation_name' }}) }}
                                            {{ form_errors(form.chain_store.webshop_main_operation_name) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- 運営担当者電話番号 -->
                                <dl class="webshop_sale">
                                    <dt>
                                        {{ form_label(form.chain_store.chain_store_web_shop_phone_type, 'admin.chainstore.subchainstore.webshop_phone_number', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-select{{ has_errors(form.chain_store.chain_store_web_shop_phone_type) ? ' error' }}">
                                            {{ form_widget(form.chain_store.chain_store_web_shop_phone_type, { 'attr': { 'placeholder': 'admin.chainstore.subchainstore.webshop_phone_number' }}) }}
                                            {{ form_widget(form.chain_store.chainstore_webshop_phone_other_type, { 'attr': { 'placeholder': 'admin.common.other' }}) }}
                                            {{ form_errors(form.chain_store.chain_store_web_shop_phone_type) }}
                                            {{ form_errors(form.chain_store.chainstore_webshop_phone_other_type) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- 運営担当者メールアドレス -->
                                <dl class="webshop_sale">
                                    <dt>
                                        {{ form_label(form.chain_store.chain_store_web_shop_email_type, 'admin.chainstore.subchainstore.webshop_email', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-select{{ has_errors(form.chain_store.chain_store_web_shop_email_type) ? ' error' }}">
                                            {{ form_widget(form.chain_store.chain_store_web_shop_email_type, { 'attr': { 'placeholder': 'admin.chainstore.subchainstore.webshop_email' }}) }}
                                            {{ form_widget(form.chain_store.chainstore_webshop_mail_other_type, { 'attr': { 'placeholder': 'admin.common.other' }}) }}
                                            {{ form_errors(form.chain_store.chain_store_web_shop_email_type) }}
                                            {{ form_errors(form.chain_store.chainstore_webshop_mail_other_type) }}
                                        </div>
                                    </dd>
                                </dl>
                            </div>
                        </div>

                        {% if ChainstoreType.id != "1" %}
                            <div style="{{hideMode}}">
                        {% else %}
                            <div style="display:none;" style="{{hideMode}}">
                        {% endif %}

                            <div class="dzx-header">
                                パートナー情報
                            </div>
                            <div class="ec-borderedDefs">
                                <!-- パートナー指定 -->
                                <dl>
                                    <dt>
                                        {{ form_label(form.chain_store.option_partner, 'admin.chainstore.partner.ispartner', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    </dt>
                                    <dd>
                                        <div class="ec-select{{ has_errors(form.chain_store.option_partner) ? ' error' }}">
                                            {{ form_widget(form.chain_store.option_partner, { 'attr': { 'placeholder': 'admin.chainstore.partner.ispartner' }}) }}
                                            {{ form_errors(form.chain_store.option_partner) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- パートナー 法人名・屋号 -->
                                <dl class="ispartner">
                                    <dt>
                                        {{ form_label(form.chain_store.partner_company_name, 'admin.chainstore.partner.chainstore_name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    </dt>
                                    <dd>
                                        <div class="ec-input{{ has_errors(form.chain_store.partner_company_name) ? ' error' }}">
                                            {{ form_widget(form.chain_store.partner_company_name, { 'attr': { 'placeholder': 'admin.chainstore.partner.chainstore_name' }}) }}
                                            {{ form_errors(form.chain_store.partner_company_name) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- パートナー 法人名・屋号（フリガナ） -->
                                <dl class="ispartner">
                                    <dt>
                                        {{ form_label(form.chain_store.partner_company_name_kana, 'admin.chainstore.partner.chainstore_name_ka', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    </dt>
                                    <dd>
                                        <div class="ec-input{{ has_errors(form.chain_store.partner_company_name_kana) ? ' error' }}">
                                            {{ form_widget(form.chain_store.partner_company_name_kana, { 'attr': { 'placeholder': 'admin.chainstore.partner.chainstore_name_ka' }}) }}
                                            {{ form_errors(form.chain_store.partner_company_name_kana) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- パートナー 代表者名・氏名 -->
                                <dl class="ispartner">
                                    <dt>
                                        {{ form_label(form.chain_store.partner_name, 'admin.chainstore.partner.representative_name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-halfInput{{ has_errors(form.chain_store.partner_name.partner_name01, form.chain_store.partner_name.partner_name02) ? ' error' }}">
                                            {{ form_widget(form.chain_store.partner_name.partner_name01, { 'attr': { 'placeholder': 'common.last_name' }}) }}
                                            {{ form_widget(form.chain_store.partner_name.partner_name02, { 'attr': { 'placeholder': 'common.first_name' }}) }}
                                            {{ form_errors(form.chain_store.partner_name.partner_name01) }}
                                            {{ form_errors(form.chain_store.partner_name.partner_name02) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- パートナー 代表者名・氏名（フリガナ） -->
                                <dl class="ispartner">
                                    <dt>
                                        {{ form_label(form.chain_store.partner_kana, 'admin.chainstore.partner.representative_name_ka', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-halfInput{{ has_errors(form.chain_store.partner_kana.partner_kana01, form.chain_store.partner_kana.partner_kana02) ? ' error' }}">
                                            {{ form_widget(form.chain_store.partner_kana.partner_kana01, { 'attr': { 'placeholder': 'common.last_name_kana' }}) }}
                                            {{ form_widget(form.chain_store.partner_kana.partner_kana02, { 'attr': { 'placeholder': 'common.first_name_kana' }}) }}
                                            {{ form_errors(form.chain_store.partner_kana.partner_kana01) }}
                                            {{ form_errors(form.chain_store.partner_kana.partner_kana02) }}
                                        </div>
                                    </dd>
                                </dl>
                                <!-- パートナー 電話番号 -->
                                <dl class="ispartner">
                                    <dt>
                                        {{ form_label(form.chain_store.partner_phone_number, 'admin.chainstore.partner.phone_number', { 'label_attr': { 'class': 'ec-label' }}) }}
                                        <span class="ec-required">必須</span>
                                    </dt>
                                    <dd>
                                        <div class="ec-input{{ has_errors(form.chain_store.partner_phone_number) ? ' error' }}">
                                            {{ form_widget(form.chain_store.partner_phone_number, { 'attr': { 'maxlength':'20', 'placeholder': 'admin.chainstore.partner.phone_number' }}) }}
                                            {{ form_errors(form.chain_store.partner_phone_number) }}
                                        </div>
                                    </dd>
                                </dl>
                            </div>
                        </div>

                        <div class="dzx-header" style="{{hideMode}}">
                            会員情報
                        </div>
                        <div class="ec-borderedDefs">
                            <!-- データ獲得 -->
                            <div class="ec-registerRole__actions"  style="{{showMode}}">
                                <div class="ec-off4Grid">
                                    <div class="ec-off4Grid__cell">
                                        <a class="ec-blockBtn--action ec-blockBtn--search ec-blockBtn--confirm" type="button" value="">
                                        契約登録データを確認します<br />
                                        このボタンをクリックしてください
                                        </a>
                                    </div>
                                </div>
                            </div>
                            {% if ChainstoreTypeMode == 'simple' %}
                                <!-- 契約番号 -->
                                <dl>
                                    {# <dt>
                                        {{ form_label(form.chain_store.stock_number, 'admin.chainstore.stock_number', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    </dt> #}
                                    <dt>
                                        <label class="ec-label required" for="entry_chain_store_stock_number">契約番号</label>
                                    </dt>
                                    <dd>
                                        <div class="ec-halfInput{{ has_errors(form.chain_store.stock_number) ? ' error' }}">
                                            {{ form_widget(form.chain_store.stock_number, { 'attr': { 'readonly':'readonly', 'maxlength':'10', 'placeholder': 'admin.chainstore.stock_number' }}) }}
                                            {{ form_errors(form.chain_store.stock_number) }}
                                        </div>
                                    </dd>
                                </dl>
                            {% endif %}
                            <dl style="{{hideMode}}">
                                <dt>
                                    {{ form_label(form.name, 'common.supervisor.name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.name.name01, form.name.name02) ? ' error'}}">
                                        {{ form_widget(form.name.name01, { 'attr': { 'placeholder': 'common.last_name' }}) }}
                                        {{ form_widget(form.name.name02, { 'attr': { 'placeholder': 'common.first_name' }}) }}
                                        {{ form_errors(form.name.name01) }}
                                        {{ form_errors(form.name.name02) }}
                                    </div>
                                </dd>
                            </dl>
                            <dl style="{{hideMode}}">
                                <dt>
                                    {{ form_label(form.kana, 'common.supervisor.kana', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.kana.kana01, form.kana.kana02) ? ' error'}}">
                                        {{ form_widget(form.kana.kana01, { 'attr': { 'placeholder': 'common.last_name_kana' }}) }}
                                        {{ form_widget(form.kana.kana02, { 'attr': { 'placeholder': 'common.first_name_kana' }}) }}
                                        {{ form_errors(form.kana.kana01) }}
                                        {{ form_errors(form.kana.kana02) }}
                                    </div>
                                </dd>
                            </dl>
                            <dl style="{{hideMode}}">
                                <dt>
                                    {{ form_label(form.company_name, 'common.company_name', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-halfInput{{ has_errors(form.company_name) ? ' error' }}">
                                        {{ form_widget(form.company_name) }}
                                        {{ form_errors(form.company_name) }}
                                    </div>
                                </dd>
                            </dl>
                            <dl style="{{hideMode}}">
                                <dt>
                                    {{ form_label(form.address, 'common.address', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-zipInput{{ has_errors(form.postal_code) ? ' error' }}"><span>{{ 'common.postal_symbol'|trans }}</span>
                                        {{ form_widget(form.postal_code) }}
                                        <div class="ec-zipInputHelp">
                                            <div class="ec-zipInputHelp__icon">
                                                <div class="ec-icon"><img
                                                            src="{{ asset('assets/icon/question-white.svg') }}" alt="">
                                                </div>
                                            </div><a href="https://www.post.japanpost.jp/zipcode/" target="_blank"><span>{{ 'common.search_postal_code'|trans }}</span></a>
                                        </div>
                                        {{ form_errors(form.postal_code) }}
                                    </div>

                                    <div class="ec-select{{ has_errors(form.address.pref) ? ' error' }}">
                                        {{ form_widget(form.address.pref) }}
                                        {{ form_errors(form.address.pref) }}
                                    </div>
                                    <div class="ec-input{{ has_errors(form.address.addr01) ? ' error' }}">
                                        {{ form_widget(form.address.addr01, { 'attr': { 'placeholder': 'common.address_sample_01' }}) }}
                                        {{ form_errors(form.address.addr01) }}
                                    </div>
                                    <div class="ec-input{{ has_errors(form.address.addr02) ? ' error' }}">
                                        {{ form_widget(form.address.addr02,  { 'attr': { 'placeholder': 'common.address_sample_02' }}) }}
                                        {{ form_errors(form.address.addr02) }}
                                    </div>
                                </dd>
                            </dl>
                            <dl style="{{hideMode}}">
                                <dt>
                                    {{ form_label(form.phone_number, 'common.phone_number', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-telInput{{ has_errors(form.phone_number) ? ' error' }}">
                                        {{ form_widget(form.phone_number) }}
                                        {{ form_errors(form.phone_number) }}
                                    </div>
                                </dd>
                            </dl>
                            <dl>
                                {# <dt>
                                    {{ form_label(form.email, 'common.mail_address', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt> #}
                                <dt>
                                    <label class="ec-label required">メールアドレス</label>
                                </dt>
                                <dd>
                                    {% if ChainstoreTypeMode =='simple' %}
                                        <div class="ec-input{{ has_errors(form.email.first) ? ' error' }}">
                                            {{ form_widget(form.email.first, { 'attr': { 'readonly':'readonly',  'placeholder': 'common.mail_address_sample' }}) }}
                                            {{ form_errors(form.email.first) }}
                                        </div>
                                        <div class="ec-input{{ has_errors(form.email.second) ? ' error' }}">
                                            {{ form_widget(form.email.second, { 'attr': { 'readonly':'readonly', 'placeholder': 'common.repeated_confirm' }}) }}
                                            {{ form_errors(form.email.second) }}
                                        </div>
                                    {% else %}
                                        <div class="ec-input{{ has_errors(form.email.first) ? ' error' }}">
                                            {{ form_widget(form.email.first, { 'attr': { 'placeholder': 'common.mail_address_sample' }}) }}
                                            {{ form_errors(form.email.first) }}
                                        </div>
                                        <div class="ec-input{{ has_errors(form.email.second) ? ' error' }}">
                                            {{ form_widget(form.email.second, { 'attr': { 'placeholder': 'common.repeated_confirm' }}) }}
                                            {{ form_errors(form.email.second) }}
                                        </div>
                                    {% endif %}
                                </dd>
                            </dl>
                            <dl>
                                {# <dt>
                                    {{ form_label(form.password, 'common.password', { 'label_attr': {'class': 'ec-label' }}) }}
                                </dt> #}
                                <dt>
                                    <label class="ec-label required">新しいパスワード</label>
                                </dt>
                                <dd>
                                    <div class="ec-input{{ has_errors(form.password.first) ? ' error' }}">
                                        {{ form_widget(form.password.first, {
                                            'attr': { 'placeholder': 'common.password_sample'|trans({ '%min%': eccube_config.eccube_password_min_len, '%max%': eccube_config.eccube_password_max_len }) },
                                            'type': 'password'
                                        }) }}
                                        {{ form_errors(form.password.first) }}
                                    </div>
                                    <div class="ec-input{{ has_errors(form.password.second) ? ' error' }}">
                                        {{ form_widget(form.password.second, {
                                            'attr': { 'placeholder': 'common.repeated_confirm'|trans },
                                            'type': 'password'
                                        }) }}
                                        {{ form_errors(form.password.second) }}
                                    </div>
                                </dd>
                            </dl>
                            <dl style="{{hideMode}}">
                                <dt>
                                    {{ form_label(form.birth, 'common.birth_day', { 'label_attr': {'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-birth{{ has_errors(form.birth) ? ' error' }}">
                                        {{ form_widget(form.birth.year) }}<span>/</span>
                                        {{ form_widget(form.birth.month) }}<span>/</span>
                                        {{ form_widget(form.birth.day) }}
                                        {{ form_errors(form.birth) }}
                                    </div>
                                </dd>
                            </dl>
                            <dl style="{{hideMode}}">
                                <dt>
                                    {{ form_label(form.sex, 'common.gender', { 'label_attr': { 'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-radio{{ has_errors(form.sex) ? ' error' }}">
                                        {{ form_widget(form.sex) }}
                                        {{ form_errors(form.sex) }}
                                    </div>
                                </dd>
                            </dl>
                            <dl style="{{hideMode}}">
                                <dt>
                                    {{ form_label(form.job, 'common.job', { 'label_attr': {'class': 'ec-label' }}) }}
                                </dt>
                                <dd>
                                    <div class="ec-select{{ has_errors(form.job) ? ' error' }}">
                                        {{ form_widget(form.job) }}
                                        {{ form_errors(form.job) }}
                                    </div>
                                </dd>
                            </dl>
                            <!-- この情報を基に契約書を作成します -->
                            <dl style="{{hideMode}}">
                                <dt>
                                    {{ form_label(form.chain_store.chain_store_make_contract_type, 'admin.chainstore.chainstore.make_contract', { 'label_attr': { 'class': 'ec-label' }}) }}
                                    <span class="ec-required">必須</span>
                                </dt>
                                <dd>
                                    <div class="ec-select{{ has_errors(form.chain_store.chain_store_make_contract_type) ? ' error' }}">
                                        {{ form_widget(form.chain_store.chain_store_make_contract_type, { 'attr': { 'placeholder': '' }}) }}
                                        {{ form_errors(form.chain_store.chain_store_make_contract_type) }}
                                    </div>
                                </dd>
                            </dl>
                            {# エンティティ拡張の自動出力 #}
                            {% for f in form|filter(f => f.vars.eccube_form_options.auto_render) %}
                                {% if f.vars.eccube_form_options.form_theme %}
                                    {% form_theme f f.vars.eccube_form_options.form_theme %}
                                    {{ form_row(f) }}
                                {% else %}
                                    <dl>
                                        <dt>
                                            {{ form_label(f) }}
                                        </dt>
                                        <dd>
                                            <div class="{{ f.vars.eccube_form_options.style_class }}{{ has_errors(f) ? ' error' }}">
                                                {{ form_widget(f) }}
                                                {{ form_errors(f) }}
                                            </div>
                                        </dd>
                                    </dl>
                                {% endif %}
                            {% endfor %}
                        </div>
                        <div class="ec-registerRole__actions">
                            <div class="alert alert-danger showerror" style="display:none;" role="alert">エラーメッセージ</div>
                            <div class="ec-off4Grid">
                                <div class="ec-off4Grid__cell">
                                    <div class="ec-checkbox{{ has_errors(form.user_policy_check) ? ' error' }}" style="display:none;">
                                        <label>
                                            {{ form_widget(form.user_policy_check) }}
                                            {{ 'front.entry.agree_with_terms'|trans({ '%url%': url('help_agreement') })|raw }}
                                        </label>
                                        {{ form_errors(form.user_policy_check) }}
                                    </div>
                                    <button class="ec-blockBtn--action" type="submit" id="btnsubmit" name="mode" value="confirm">{{ 'front.entry.ok'|trans }}</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>



            <div class="ec-modal" id="bankNotFoundError">
                <div class="ec-modal-overlay">
                    <label for="ec-modal-checkbox" class="ec-modal-overlay-close"></label>
                    <div class="ec-modal-wrap">
                        <label for="ec-modal-checkbox" class="ec-modal-close"><span class="ec-icon"><img src="/html/template/default/assets/icon/cross-dark.svg" alt=""/></span></label>
                        <div id="ec-modal-header" class="text-center">支店番号が見つかりません</div>
                        <div class="ec-modal-box">
                            <div class="ec-role">
                                <label for="ec-modal-checkbox" class="ec-inlineBtn--cancel">閉じる</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="ec-modal" id="bankNoSelectError">
                <div class="ec-modal-overlay">
                    <label for="ec-modal-bank" class="ec-modal-overlay-close"></label>
                    <div class="ec-modal-wrap">
                        <label for="ec-modal-bank" class="ec-modal-close"><span class="ec-icon"><img src="/html/template/default/assets/icon/cross-dark.svg" alt=""/></span></label>
                        <div id="ec-modal-header" class="text-center">金融機関名を選択してください</div>
                        <div class="ec-modal-box">
                            <div class="ec-role">
                                <label for="ec-modal-bank" class="ec-inlineBtn--cancel">閉じる</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="ec-modal" id="bankSearchModal" >
                <div class="ec-modal-overlay">
                    <label for="ec-modal-banksearch" class="ec-modal-overlay-close"></label>
                    <div class="ec-modal-wrap">
                        <label for="ec-modal-banksearch" class="ec-modal-close"><span class="ec-icon"><img src="/html/template/default/assets/icon/cross-dark.svg" alt=""/></span></label>
                        <div id="ec-modal-header">
                            <div class="ec-borderedDefs">
                                <dl>
                                    <dt>
                                        支店番号または支店名
                                    </dt>
                                    <dd>
                                        <div class="ec-halfInput">
                                            <input type="text" id="branch_keyword" class="form-control" placeholder="番号または支店名を入力">
                                            <a class="ec-inlineBtn btn_bank_query" href="#">検索</a>
                                        </div>
                                    </dd>
                                </dl>
                                <table class="dzx-table_row_detail bank_branch_list">
                                <thead>
                                    <tr>
                                        <th style="width:70px;">選択</th>
                                        <th style="width:120px;">支店番号</th>
                                        <th>支店名</th>
                                    </tr>
                                </thead>
                                </table>
                            </div>
                        </div>
                        <div class="ec-modal-box">
                            <div class="ec-role">
                                <label for="ec-modal-banksearch" class="ec-inlineBtn--cancel">閉じる</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="ec-modal" id="dataSearch" >
                <div class="ec-modal-overlay">
                    <label for="ec-modal-datasearch" class="ec-modal-overlay-close"></label>
                    <div class="ec-modal-wrap bloading">
                        <label for="ec-modal-datasearch" class="ec-modal-close"><span class="ec-icon"><img src="/html/template/default/assets/icon/cross-dark.svg" alt=""/></span></label>
                        <div id="ec-modal-header">
                            <div class="ec-borderedDefs">
                                <dl>
                                    <dt>
                                        メールアドレス
                                    </dt>
                                    <dd>
                                        <div class="ec-input">
                                            <input type="text" id="search_mail" class="form-control" placeholder="メールアドレス">
                                        </div>
                                    </dd>
                                </dl>
                                <dl>
                                    <dt>
                                        生年月日
                                    </dt>
                                    <dd>
                                        <div class="ec-birth">
                                            <select id="search_birth_year"><option value="">----</option><option value="2022">2022</option><option value="2021">2021</option><option value="2020">2020</option><option value="2019">2019</option><option value="2018">2018</option><option value="2017">2017</option><option value="2016">2016</option><option value="2015">2015</option><option value="2014">2014</option><option value="2013">2013</option><option value="2012">2012</option><option value="2011">2011</option><option value="2010">2010</option><option value="2009">2009</option><option value="2008">2008</option><option value="2007">2007</option><option value="2006">2006</option><option value="2005">2005</option><option value="2004">2004</option><option value="2003">2003</option><option value="2002">2002</option><option value="2001">2001</option><option value="2000">2000</option><option value="1999">1999</option><option value="1998">1998</option><option value="1997">1997</option><option value="1996">1996</option><option value="1995">1995</option><option value="1994">1994</option><option value="1993">1993</option><option value="1992">1992</option><option value="1991">1991</option><option value="1990">1990</option><option value="1989">1989</option><option value="1988">1988</option><option value="1987">1987</option><option value="1986">1986</option><option value="1985">1985</option><option value="1984">1984</option><option value="1983">1983</option><option value="1982">1982</option><option value="1981">1981</option><option value="1980">1980</option><option value="1979">1979</option><option value="1978">1978</option><option value="1977">1977</option><option value="1976">1976</option><option value="1975">1975</option><option value="1974">1974</option><option value="1973">1973</option><option value="1972">1972</option><option value="1971">1971</option><option value="1970">1970</option><option value="1969">1969</option><option value="1968">1968</option><option value="1967">1967</option><option value="1966">1966</option><option value="1965">1965</option><option value="1964">1964</option><option value="1963">1963</option><option value="1962">1962</option><option value="1961">1961</option><option value="1960">1960</option><option value="1959">1959</option><option value="1958">1958</option><option value="1957">1957</option><option value="1956">1956</option><option value="1955">1955</option><option value="1954">1954</option><option value="1953">1953</option><option value="1952">1952</option><option value="1951">1951</option><option value="1950">1950</option><option value="1949">1949</option><option value="1948">1948</option><option value="1947">1947</option><option value="1946">1946</option><option value="1945">1945</option><option value="1944">1944</option><option value="1943">1943</option><option value="1942">1942</option><option value="1941">1941</option><option value="1940">1940</option><option value="1939">1939</option><option value="1938">1938</option><option value="1937">1937</option><option value="1936">1936</option><option value="1935">1935</option><option value="1934">1934</option><option value="1933">1933</option><option value="1932">1932</option><option value="1931">1931</option><option value="1930">1930</option><option value="1929">1929</option><option value="1928">1928</option><option value="1927">1927</option><option value="1926">1926</option><option value="1925">1925</option><option value="1924">1924</option><option value="1923">1923</option><option value="1922">1922</option><option value="1921">1921</option><option value="1920">1920</option><option value="1919">1919</option><option value="1918">1918</option><option value="1917">1917</option><option value="1916">1916</option><option value="1915">1915</option><option value="1914">1914</option><option value="1913">1913</option><option value="1912">1912</option></select>
                                            <span>/</span>
                                            <select id="search_birth_month"><option value="">--</option><option value="1">01</option><option value="2">02</option><option value="3">03</option><option value="4">04</option><option value="5">05</option><option value="6">06</option><option value="7">07</option><option value="8">08</option><option value="9">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select>
                                            <span>/</span>
                                            <select id="search_birth_day"><option value="">--</option><option value="1">01</option><option value="2">02</option><option value="3">03</option><option value="4">04</option><option value="5">05</option><option value="6">06</option><option value="7">07</option><option value="8">08</option><option value="9">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option></select>
                                        </div>
                                    </dd>
                                </dl>
                            </div>
                            <div class="alert alert-danger searcherror" style="display:none;" role="alert">エラーメッセージ</div>
                        </div>
                        <div class="ec-modal-box">
                            <div class="ec-role">
                                <label for="ec-modal-datasearch" class="ec-inlineBtn--cancel">閉じる</label>
                                <a class="ec-inlineBtn" id="btn_search_query" href="#">データ取得</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
{% endblock %}
