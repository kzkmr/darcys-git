!function(){"use strict";var e={d:function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{metadata:function(){return r},name:function(){return y},settings:function(){return g}});var n=window.wp.blocks,o=window.wp.i18n,r=JSON.parse('{"apiVersion":2,"name":"snow-monkey-forms/control-file","category":"snow-monkey-forms","parent":["snow-monkey-forms/noparent"],"attributes":{"name":{"type":"string","default":""},"id":{"type":"string","default":""},"controlClass":{"type":"string","default":""},"description":{"type":"string","default":""},"validations":{"type":"string","default":"{}"}},"supports":{"customClassName":false},"style":"snow-monkey-forms/file","editorScript":"file:../../dist/block/file/editor.js"}'),l=window.wp.element;function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s.apply(this,arguments)}var a=window.wp.blockEditor,i=window.wp.components,c=window.wp.compose;const m=e=>{let{value:t,onChange:n}=e;const r={};return""===t&&(r.borderColor="#d94f4f"),(0,l.createElement)(i.TextControl,{label:(0,o.__)("name","snow-monkey-forms"),help:(0,o.__)("Required. Input a unique machine-readable name.","snow-monkey-forms"),value:t,onChange:n,required:!0,style:r})},d=e=>{let{value:t,onChange:n}=e;return(0,l.createElement)(i.TextControl,{label:(0,o.__)("id","snow-monkey-forms"),value:t,onChange:n})},u=e=>{let{value:t,onChange:n}=e;return(0,l.createElement)(i.TextControl,{label:(0,o.__)("class","snow-monkey-forms"),help:(0,o.__)("Separate multiple classes with spaces.","snow-monkey-forms"),value:t,onChange:n})};var f=window.lodash,p=(0,c.createHigherOrderComponent)((e=>t=>{const{attributes:n,setAttributes:r}=t,{validations:s}=n;if(void 0===s)return(0,l.createElement)(e,t);const c=JSON.parse(s);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(a.InspectorControls,null,(0,l.createElement)(i.PanelBody,{title:(0,o.__)("Validation","snow-monkey-forms")},(0,l.createElement)(i.ToggleControl,{label:(0,o.__)("Required","snow-monkey-forms"),checked:!!c.required,onChange:e=>{r({validations:JSON.stringify((0,f.merge)(c,{required:e}))})}}))),(0,l.createElement)(e,t))}),"withValidations"),w=(0,c.compose)(p)((e=>{let{attributes:t,setAttributes:n}=e;const{name:r,id:c,controlClass:f,description:p}=t;(0,l.useEffect)((()=>{""===r&&n({name:`file-${((new Date).getTime()+Math.floor(8999*Math.random()+1e3)).toString(32)}`})}));const w=(0,a.useBlockProps)({className:"smf-placeholder"});return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(a.InspectorControls,null,(0,l.createElement)(i.PanelBody,{title:(0,o.__)("Attributes","snow-monkey-forms")},(0,l.createElement)(m,{value:r,onChange:e=>n({name:e})}),(0,l.createElement)(d,{value:c,onChange:e=>n({id:e})}),(0,l.createElement)(u,{value:f,onChange:e=>n({controlClass:e})})),(0,l.createElement)(i.PanelBody,{title:(0,o.__)("Block settings","snow-monkey-forms")},(0,l.createElement)(i.TextControl,{label:(0,o.__)("Description","snow-monkey-forms"),value:p,onChange:e=>n({description:e})}))),(0,l.createElement)("div",s({},w,{"data-name":r}),(0,l.createElement)("div",{className:"smf-file-control"},(0,l.createElement)("label",{htmlFor:c||void 0},(0,l.createElement)("input",{type:"file",name:r,disabled:"disabled",id:c||void 0,className:`smf-file-control__control ${f}`}),(0,l.createElement)("span",{className:"smf-file-control__label"},(0,o.__)("Choose file","snow-monkey-forms")),(0,l.createElement)("span",{className:"smf-file-control__filename"},(0,o.__)("No file chosen","snow-monkey-forms")))),p&&(0,l.createElement)("div",{className:"smf-control-description"},p)))}));const{name:y}=r,g={title:(0,o.__)("File","snow-monkey-forms"),icon:function(){return(0,l.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:"#cd162c"}},(0,l.createElement)("path",{d:"M12.4542 6.58541L12.6615 7H13.125H19C19.6904 7 20.25 7.55964 20.25 8.25V17.75C20.25 18.4404 19.6904 19 19 19H5C4.30964 19 3.75 18.4404 3.75 17.75V6C3.75 5.30964 4.30964 4.75 5 4.75H10.7639C11.2374 4.75 11.6702 5.0175 11.882 5.44098L12.4542 6.58541Z",fill:"none",stroke:"currentColor",strokeWidth:"1.5"}))},edit:w,save:()=>null};(e=>{if(!e)return;const{metadata:t,settings:r,name:l}=e;t&&(t.title&&(t.title=(0,o.__)(t.title,"snow-monkey-blocks"),r.title=t.title),t.description&&(t.description=(0,o.__)(t.description,"snow-monkey-blocks"),r.description=t.description),t.keywords&&(t.keywords=(0,o.__)(t.keywords,"snow-monkey-blocks"),r.keywords=t.keywords)),(0,n.registerBlockType)({name:l,...t},r)})(t)}();